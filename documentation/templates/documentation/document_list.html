{% extends 'core/base.html' %}

{% block title %}Documentation{% endblock %}

{% block content %}
<div class="container">
    <h1>Documentation</h1>
    <a href="{% url 'documentation:document_create' %}" class="btn btn-primary mb-3">Ajouter un document</a>

    <form method="get" class="mb-4">
        <div class="row">
            <div class="col-md-4">
                <select name="type" class="form-control" onchange="this.form.submit()">
                    <option value="">Tous les types</option>
                    {% for type in document_types %}
                        <option value="{{ type.name }}" {% if request.GET.type == type.name %}selected{% endif %}>{{ type.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </form>

    <div class="list-group">
        {% for doc in documents %}
            <a href="{{ doc.file.url }}" class="list-group-item list-group-item-action" target="_blank">
                {{ doc.title }}
            </a>
        {% empty %}
            <p>Aucun document trouv√©.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
